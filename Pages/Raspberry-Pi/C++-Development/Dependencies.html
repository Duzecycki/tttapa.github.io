<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="author" content="Pieter P"/>
    <link rel="stylesheet" type="text/css" href="/CSS/Pages.css"/>
    <link href='/CSS/roboto.css' rel='stylesheet' type='text/css'/>
    <link href='/CSS/icon.css' rel='stylesheet' type='text/css'/>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
            TeX: { equationNumbers: { autoNumber: "AMS" } },
            "fast-preview": {
            disabled: true
            }
        });
    </script>
    <script type="text/javascript" src="/MathJax/MathJax.js?config=TeX-AMS_SVG"></script>
    <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport'/>
    <meta name="theme-color" content="#ccc"/>
    <meta name="keywords" content="cross-compile,raspberry,raspberry pi,build,compile,from source, source,Zlib,OpenSSL,FFI,Bzip2,GNU ncurses,GNU readline,GNU dbm, SQLite,UUID,Python 3.7.4,ZBar,Raspberry Pi Userland,VideoCore, FFmpeg,OpenCV,NumPy"/>
    <meta name="description" content="Using the cross-compilation toolchain to build the libraries you need for your project, as well as their dependencies."/>
    <title>Cross-Compiling the Dependencies</title>
</head>
<body>
    <nav>
        <div>
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 48 48" style="position:absolute;top:4px;right: 4px;">
                <path d="M0 0h48v48h-48z" fill="none"/>
                <path d="M6 36h36v-4h-36v4zm0-10h36v-4h-36v4zm0-14v4h36v-4h-36z"/>
            </svg>
            <h2><a href="/">Home</a></h2>
<ul>
    <li class="expanded"><span class="dtriangle" onclick="this.parentElement.classList.toggle('expanded');"></span><a href="../index.html">Raspberry Pi</a>
    <ul>
        <li><span class="dtriangle" onclick="this.parentElement.classList.toggle('expanded');"></span><a href="../Installation+Setup/index.html">Installation and Setup</a>
        <ul>
            <li><span class="ftriangle"></span><a href="../Installation+Setup/Setting-up-Ubuntu.html">Installing and Setting up Ubuntu</a></li>
            <li><span class="ftriangle"></span><a href="../Installation+Setup/WiFi-Setup.html">Setting up the WiFi Connection</a></li>
        </ul>
        </li>
        <li><span class="dtriangle" onclick="this.parentElement.classList.toggle('expanded');"></span><a href="../Python-Development/index.html">Python Development</a>
        <ul>
        </ul>
        </li>
        <li class="expanded"><span class="dtriangle" onclick="this.parentElement.classList.toggle('expanded');"></span><a href="index.html">C++ Development</a>
        <ul>
            <li><span class="ftriangle"></span><a href="Building-The-Toolchain.html">Building the Cross-Compilation Toolchain</a></li>
            <li><span class="ftriangle"></span><a class="openEntry" href="Dependencies.html">Cross-Compiling the Dependencies</a></li>
        </ul>
        </li>
    </ul>
    </li>
    <li><span class="dtriangle" onclick="this.parentElement.classList.toggle('expanded');"></span><a href="../../Arduino/index.html">Arduino</a>
    <ul>
        <li><span class="dtriangle" onclick="this.parentElement.classList.toggle('expanded');"></span><a href="../../Arduino/Audio-and-Signal-Processing/index.html">Audio and Signal Processing</a>
        <ul>
            <li><span class="dtriangle" onclick="this.parentElement.classList.toggle('expanded');"></span><a href="../../Arduino/Audio-and-Signal-Processing/VU-Meters/index.html">VU Meters</a>
            <ul>
            </ul>
            </li>
        </ul>
        </li>
        <li><span class="dtriangle" onclick="this.parentElement.classList.toggle('expanded');"></span><a href="../../Arduino/Control-Surface/index.html">Control Surface</a>
        <ul>
            <li><span class="dtriangle" onclick="this.parentElement.classList.toggle('expanded');"></span><a href="../../Arduino/Control-Surface/Developers/index.html">Developers</a>
            <ul>
                <li><span class="ftriangle"></span><a href="../../Arduino/Control-Surface/Developers/Installation.html">Installation</a></li>
                <li><span class="ftriangle"></span><a href="../../Arduino/Control-Surface/Developers/Style.html">Style</a></li>
                <li><span class="ftriangle"></span><a href="../../Arduino/Control-Surface/Developers/Tests.html">Tests</a></li>
                <li><span class="ftriangle"></span><a href="../../Arduino/Control-Surface/Developers/Generating-Documentation.html">Generating Documentation</a></li>
            </ul>
            </li>
        </ul>
        </li>
        <li><span class="dtriangle" onclick="this.parentElement.classList.toggle('expanded');"></span><a href="../../Arduino/Bootloaders/index.html">Bootloaders</a>
        <ul>
            <li><span class="ftriangle"></span><a href="../../Arduino/Bootloaders/ATmega328P-custom-frequency.html">Compiling Optiboot - ATmega328P at custom frequency</a></li>
        </ul>
        </li>
        <li><span class="dtriangle" onclick="this.parentElement.classList.toggle('expanded');"></span><a href="../../Arduino/ESP8266/index.html">ESP8266</a>
        <ul>
            <li><span class="dtriangle" onclick="this.parentElement.classList.toggle('expanded');"></span><a href="../../Arduino/ESP8266/Flashing/index.html">Flashing</a>
            <ul>
                <li><span class="ftriangle"></span><a href="../../Arduino/ESP8266/Flashing/Flashing-With-an-Arduino.html">Flashing the ESP8266 with an Arduino UNO</a></li>
            </ul>
            </li>
        </ul>
        </li>
    </ul>
    </li>
    <li><span class="dtriangle" onclick="this.parentElement.classList.toggle('expanded');"></span><a href="../../Mathematics/index.html">Mathematics</a>
    <ul>
        <li><span class="dtriangle" onclick="this.parentElement.classList.toggle('expanded');"></span><a href="../../Mathematics/Systems-and-Control-Theory/index.html">Systems and Control Theory</a>
        <ul>
            <li><span class="dtriangle" onclick="this.parentElement.classList.toggle('expanded');"></span><a href="../../Mathematics/Systems-and-Control-Theory/Analog-Filters/index.html">Analog Filters</a>
            <ul>
                <li><span class="ftriangle"></span><a href="../../Mathematics/Systems-and-Control-Theory/Analog-Filters/Butterworth-Filters.html">Butterworth Filters</a></li>
            </ul>
            </li>
            <li><span class="dtriangle" onclick="this.parentElement.classList.toggle('expanded');"></span><a href="../../Mathematics/Systems-and-Control-Theory/Digital-filters/index.html">Digital filters</a>
            <ul>
                <li><span class="dtriangle" onclick="this.parentElement.classList.toggle('expanded');"></span><a href="../../Mathematics/Systems-and-Control-Theory/Digital-filters/DTLTI-Systems,-Transfer-Functions,-and-the-Z-transform/index.html">DTLTI Systems, Transfer Functions, and the Z-transform</a>
                <ul>
                    <li><span class="ftriangle"></span><a href="../../Mathematics/Systems-and-Control-Theory/Digital-filters/DTLTI-Systems,-Transfer-Functions,-and-the-Z-transform/DTLTI-Systems.html">DTLTI Systems</a></li>
                    <li><span class="ftriangle"></span><a href="../../Mathematics/Systems-and-Control-Theory/Digital-filters/DTLTI-Systems,-Transfer-Functions,-and-the-Z-transform/Impulse-and-Step-Response.html">Impulse and Step Response</a></li>
                    <li><span class="ftriangle"></span><a href="../../Mathematics/Systems-and-Control-Theory/Digital-filters/DTLTI-Systems,-Transfer-Functions,-and-the-Z-transform/The-Z-transform.html">The Z-transform</a></li>
                </ul>
                </li>
                <li><span class="dtriangle" onclick="this.parentElement.classList.toggle('expanded');"></span><a href="../../Mathematics/Systems-and-Control-Theory/Digital-filters/Exponential Moving Average/index.html">Exponential Moving Average</a>
                <ul>
                    <li><span class="ftriangle"></span><a href="../../Mathematics/Systems-and-Control-Theory/Digital-filters/Exponential Moving Average/Exponential-Moving-Average.html">Exponential Moving Average</a></li>
                    <li><span class="ftriangle"></span><a href="../../Mathematics/Systems-and-Control-Theory/Digital-filters/Exponential Moving Average/Filtering-in-MATLAB.html">Filtering in MATLAB</a></li>
                    <li><span class="ftriangle"></span><a href="../../Mathematics/Systems-and-Control-Theory/Digital-filters/Exponential Moving Average/C++Implementation.html">C++ Implementation</a></li>
                </ul>
                </li>
                <li><span class="dtriangle" onclick="this.parentElement.classList.toggle('expanded');"></span><a href="../../Mathematics/Systems-and-Control-Theory/Digital-filters/Simple Moving Average/index.html">Simple Moving Average</a>
                <ul>
                    <li><span class="ftriangle"></span><a href="../../Mathematics/Systems-and-Control-Theory/Digital-filters/Simple Moving Average/Simple-Moving-Average.html">Simple Moving Average</a></li>
                    <li><span class="ftriangle"></span><a href="../../Mathematics/Systems-and-Control-Theory/Digital-filters/Simple Moving Average/C++Implementation.html">C++ Implementation</a></li>
                </ul>
                </li>
                <li><span class="dtriangle" onclick="this.parentElement.classList.toggle('expanded');"></span><a href="../../Mathematics/Systems-and-Control-Theory/Digital-filters/Discretization/index.html">Discretization</a>
                <ul>
                    <li><span class="ftriangle"></span><a href="../../Mathematics/Systems-and-Control-Theory/Digital-filters/Discretization/Bilinear-transform.html">Bilinear Transform</a></li>
                    <li><span class="ftriangle"></span><a href="../../Mathematics/Systems-and-Control-Theory/Digital-filters/Discretization/Discretization-of-a-fourth-order-Butterworth-filter.html">Discretization of a Fourth-Order Butterworth Filter</a></li>
                </ul>
                </li>
                <li><span class="ftriangle"></span><a href="../../Mathematics/Systems-and-Control-Theory/Digital-filters/FIR-Notch.html">Simple Finite Impulse Response Notch Filter</a></li>
            </ul>
            </li>
        </ul>
        </li>
    </ul>
    </li>
    <li><span class="dtriangle" onclick="this.parentElement.classList.toggle('expanded');"></span><a href="../../Ubuntu/index.html">Ubuntu</a>
    <ul>
        <li><span class="dtriangle" onclick="this.parentElement.classList.toggle('expanded');"></span><a href="../../Ubuntu/Software-Installation/index.html">Software Installation</a>
        <ul>
            <li><span class="dtriangle" onclick="this.parentElement.classList.toggle('expanded');"></span><a href="../../Ubuntu/Software-Installation/Arduino/index.html">Arduino</a>
            <ul>
                <li><span class="ftriangle"></span><a href="../../Ubuntu/Software-Installation/Arduino/Arduino-IDE.html">Arduino IDE</a></li>
            </ul>
            </li>
            <li><span class="ftriangle"></span><a href="../../Ubuntu/Software-Installation/BlueZ.html">BlueZ with MIDI over BLE Support</a></li>
            <li><span class="ftriangle"></span><a href="../../Ubuntu/Software-Installation/Doxygen.html">Doxygen</a></li>
            <li><span class="ftriangle"></span><a href="../../Ubuntu/Software-Installation/Eclipse.html">Eclipse</a></li>
            <li><span class="ftriangle"></span><a href="../../Ubuntu/Software-Installation/Java.html">Java</a></li>
            <li><span class="ftriangle"></span><a href="../../Ubuntu/Software-Installation/Python.html">Python</a></li>
            <li><span class="ftriangle"></span><a href="../../Ubuntu/Software-Installation/VirtualBox.html">VirtualBox</a></li>
        </ul>
        </li>
    </ul>
    </li>
</ul>

            <i class="material-icons">
                <a href="/" title="Home">home</a>
            </i>
            <i class="material-icons">
                <a href="Dependencies.pdf" title="Download as PDF">get_app</a>
            </i>
            <i class="material-icons">
                <a href="javascript:window.print()" title="Print this article">print</a>
            </i>
            <i class="material-icons">
                <a href="https://github.com/tttapa/tttapa.github.io/issues/new" target="_blank" title="Comment or open an issue">report</a>
            </i>
        </div>
    </nav>
    <article>
        <h1 class="title">Cross-Compiling the Dependencies</h1>
        <i class="author">Pieter P</i>
        <div>

<h3><a name="base-image" href="#base-image">Base Image</a></h3>

<p>
    Before building the dependencies, I created a base image with Ubuntu and the
    necessary tools installed.
</p>

<div class="codesnippet"><style>.pygments21 .hll { background-color: #ffffcc }
.pygments21  { background: #f8f8f8; }
.pygments21 .c { color: #408080; font-style: italic } /* Comment */
.pygments21 .err { border: 1px solid #FF0000 } /* Error */
.pygments21 .k { color: #008000; font-weight: bold } /* Keyword */
.pygments21 .o { color: #666666 } /* Operator */
.pygments21 .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.pygments21 .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.pygments21 .cp { color: #BC7A00 } /* Comment.Preproc */
.pygments21 .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.pygments21 .c1 { color: #408080; font-style: italic } /* Comment.Single */
.pygments21 .cs { color: #408080; font-style: italic } /* Comment.Special */
.pygments21 .gd { color: #A00000 } /* Generic.Deleted */
.pygments21 .ge { font-style: italic } /* Generic.Emph */
.pygments21 .gr { color: #FF0000 } /* Generic.Error */
.pygments21 .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.pygments21 .gi { color: #00A000 } /* Generic.Inserted */
.pygments21 .go { color: #888888 } /* Generic.Output */
.pygments21 .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.pygments21 .gs { font-weight: bold } /* Generic.Strong */
.pygments21 .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.pygments21 .gt { color: #0044DD } /* Generic.Traceback */
.pygments21 .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.pygments21 .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.pygments21 .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.pygments21 .kp { color: #008000 } /* Keyword.Pseudo */
.pygments21 .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.pygments21 .kt { color: #B00040 } /* Keyword.Type */
.pygments21 .m { color: #666666 } /* Literal.Number */
.pygments21 .s { color: #BA2121 } /* Literal.String */
.pygments21 .na { color: #7D9029 } /* Name.Attribute */
.pygments21 .nb { color: #008000 } /* Name.Builtin */
.pygments21 .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.pygments21 .no { color: #880000 } /* Name.Constant */
.pygments21 .nd { color: #AA22FF } /* Name.Decorator */
.pygments21 .ni { color: #999999; font-weight: bold } /* Name.Entity */
.pygments21 .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.pygments21 .nf { color: #0000FF } /* Name.Function */
.pygments21 .nl { color: #A0A000 } /* Name.Label */
.pygments21 .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.pygments21 .nt { color: #008000; font-weight: bold } /* Name.Tag */
.pygments21 .nv { color: #19177C } /* Name.Variable */
.pygments21 .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.pygments21 .w { color: #bbbbbb } /* Text.Whitespace */
.pygments21 .mb { color: #666666 } /* Literal.Number.Bin */
.pygments21 .mf { color: #666666 } /* Literal.Number.Float */
.pygments21 .mh { color: #666666 } /* Literal.Number.Hex */
.pygments21 .mi { color: #666666 } /* Literal.Number.Integer */
.pygments21 .mo { color: #666666 } /* Literal.Number.Oct */
.pygments21 .sa { color: #BA2121 } /* Literal.String.Affix */
.pygments21 .sb { color: #BA2121 } /* Literal.String.Backtick */
.pygments21 .sc { color: #BA2121 } /* Literal.String.Char */
.pygments21 .dl { color: #BA2121 } /* Literal.String.Delimiter */
.pygments21 .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.pygments21 .s2 { color: #BA2121 } /* Literal.String.Double */
.pygments21 .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.pygments21 .sh { color: #BA2121 } /* Literal.String.Heredoc */
.pygments21 .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.pygments21 .sx { color: #008000 } /* Literal.String.Other */
.pygments21 .sr { color: #BB6688 } /* Literal.String.Regex */
.pygments21 .s1 { color: #BA2121 } /* Literal.String.Single */
.pygments21 .ss { color: #19177C } /* Literal.String.Symbol */
.pygments21 .bp { color: #008000 } /* Name.Builtin.Pseudo */
.pygments21 .fm { color: #0000FF } /* Name.Function.Magic */
.pygments21 .vc { color: #19177C } /* Name.Variable.Class */
.pygments21 .vg { color: #19177C } /* Name.Variable.Global */
.pygments21 .vi { color: #19177C } /* Name.Variable.Instance */
.pygments21 .vm { color: #19177C } /* Name.Variable.Magic */
.pygments21 .il { color: #666666 } /* Literal.Number.Integer.Long */
.pygments21 pre.snippet21 { counter-reset: line 0; }</style><div class="pygments21"><pre class="lineNumbers snippet21"><code><span></span><span class="k">FROM</span><span class="s"> ubuntu:latest as base-ubuntu</span></code>
<code></code>
<code><span class="c"># Install some tools and compilers + clean up</span></code>
<code><span class="k">RUN</span> apt-get update <span class="o">&amp;&amp;</span> <span class="se">\</span></code>
<code>    apt-get install -y sudo git wget <span class="se">\</span></code>
<code>                       gcc g++ cmake make autoconf automake <span class="se">\</span></code>
<code>                       gperf diffutils bzip2 xz-utils <span class="se">\</span></code>
<code>                       flex gawk help2man libncurses-dev patch bison <span class="se">\</span></code>
<code>                       python-dev gnupg2 texinfo unzip libtool-bin <span class="se">\</span></code>
<code>                       autogen libtool m4 gettext pkg-config <span class="o">&amp;&amp;</span> <span class="se">\</span></code>
<code>    apt-get clean autoclean <span class="o">&amp;&amp;</span> <span class="se">\</span></code>
<code>    apt-get autoremove -y <span class="o">&amp;&amp;</span> <span class="se">\</span></code>
<code>    rm -rf /var/lib/apt/lists/*</code>
<code></code>
<code><span class="c"># Add a user called `develop`, and add him to the sudo group</span></code>
<code><span class="k">RUN</span> useradd -m develop <span class="o">&amp;&amp;</span> <span class="se">\</span></code>
<code>    <span class="nb">echo</span> <span class="s2">&quot;develop:develop&quot;</span> <span class="p">|</span> chpasswd <span class="o">&amp;&amp;</span> <span class="se">\</span></code>
<code>    adduser develop sudo</code>
<code></code>
<code><span class="k">USER</span><span class="s"> develop</span></code>
<code><span class="k">WORKDIR</span><span class="s"> /home/develop</span></code></pre></div>
</div>

<h3><a name="compiling-the-dependencies-for-a-64-bit-raspberry-pi-3b" href="#compiling-the-dependencies-for-a-64-bit-raspberry-pi-3b">Compiling the Dependencies for a 64-bit Raspberry Pi 3B+</a></h3>

<h4><a name="preparing-the-sysroot-and-staging-area" href="#preparing-the-sysroot-and-staging-area">Preparing the Sysroot and Staging Area</a></h4>

<p>
    Because we don't have access to the actual root directory of the Raspberry Pi, the toolchain uses
    a so-called sysroot to install the files to. It contains the necessary libraries, such as glibc and 
    the C++ standard library. It's also the folder where the configure scripts of other libraries will
    look for the necessary libraries and headers.
</p>
<p>
    The sysroot of the toolchain is read-only, to keep it clean for future projects.<br>
    We'll make a copy of the sysroot for this build, and make it writable. We'll use it as the sysroot
    for all compilations, and we'll also install all files to this folder.
</p>
<p>
    Apart from the sysroot, we also need a folder containing the files we want to install to the Pi.
    It doesn't contain the system libraries, because the Pi already has these installed.
</p>
<p>
    Having both a sysroot and a staging area means we have to install every library twice, once in 
    each of the two folders.
</p>

<div class="codesnippet"><style>.pygments50 .hll { background-color: #ffffcc }
.pygments50  { background: #f8f8f8; }
.pygments50 .c { color: #408080; font-style: italic } /* Comment */
.pygments50 .err { border: 1px solid #FF0000 } /* Error */
.pygments50 .k { color: #008000; font-weight: bold } /* Keyword */
.pygments50 .o { color: #666666 } /* Operator */
.pygments50 .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.pygments50 .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.pygments50 .cp { color: #BC7A00 } /* Comment.Preproc */
.pygments50 .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.pygments50 .c1 { color: #408080; font-style: italic } /* Comment.Single */
.pygments50 .cs { color: #408080; font-style: italic } /* Comment.Special */
.pygments50 .gd { color: #A00000 } /* Generic.Deleted */
.pygments50 .ge { font-style: italic } /* Generic.Emph */
.pygments50 .gr { color: #FF0000 } /* Generic.Error */
.pygments50 .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.pygments50 .gi { color: #00A000 } /* Generic.Inserted */
.pygments50 .go { color: #888888 } /* Generic.Output */
.pygments50 .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.pygments50 .gs { font-weight: bold } /* Generic.Strong */
.pygments50 .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.pygments50 .gt { color: #0044DD } /* Generic.Traceback */
.pygments50 .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.pygments50 .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.pygments50 .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.pygments50 .kp { color: #008000 } /* Keyword.Pseudo */
.pygments50 .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.pygments50 .kt { color: #B00040 } /* Keyword.Type */
.pygments50 .m { color: #666666 } /* Literal.Number */
.pygments50 .s { color: #BA2121 } /* Literal.String */
.pygments50 .na { color: #7D9029 } /* Name.Attribute */
.pygments50 .nb { color: #008000 } /* Name.Builtin */
.pygments50 .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.pygments50 .no { color: #880000 } /* Name.Constant */
.pygments50 .nd { color: #AA22FF } /* Name.Decorator */
.pygments50 .ni { color: #999999; font-weight: bold } /* Name.Entity */
.pygments50 .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.pygments50 .nf { color: #0000FF } /* Name.Function */
.pygments50 .nl { color: #A0A000 } /* Name.Label */
.pygments50 .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.pygments50 .nt { color: #008000; font-weight: bold } /* Name.Tag */
.pygments50 .nv { color: #19177C } /* Name.Variable */
.pygments50 .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.pygments50 .w { color: #bbbbbb } /* Text.Whitespace */
.pygments50 .mb { color: #666666 } /* Literal.Number.Bin */
.pygments50 .mf { color: #666666 } /* Literal.Number.Float */
.pygments50 .mh { color: #666666 } /* Literal.Number.Hex */
.pygments50 .mi { color: #666666 } /* Literal.Number.Integer */
.pygments50 .mo { color: #666666 } /* Literal.Number.Oct */
.pygments50 .sa { color: #BA2121 } /* Literal.String.Affix */
.pygments50 .sb { color: #BA2121 } /* Literal.String.Backtick */
.pygments50 .sc { color: #BA2121 } /* Literal.String.Char */
.pygments50 .dl { color: #BA2121 } /* Literal.String.Delimiter */
.pygments50 .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.pygments50 .s2 { color: #BA2121 } /* Literal.String.Double */
.pygments50 .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.pygments50 .sh { color: #BA2121 } /* Literal.String.Heredoc */
.pygments50 .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.pygments50 .sx { color: #008000 } /* Literal.String.Other */
.pygments50 .sr { color: #BB6688 } /* Literal.String.Regex */
.pygments50 .s1 { color: #BA2121 } /* Literal.String.Single */
.pygments50 .ss { color: #19177C } /* Literal.String.Symbol */
.pygments50 .bp { color: #008000 } /* Name.Builtin.Pseudo */
.pygments50 .fm { color: #0000FF } /* Name.Function.Magic */
.pygments50 .vc { color: #19177C } /* Name.Variable.Class */
.pygments50 .vg { color: #19177C } /* Name.Variable.Global */
.pygments50 .vi { color: #19177C } /* Name.Variable.Instance */
.pygments50 .vm { color: #19177C } /* Name.Variable.Magic */
.pygments50 .il { color: #666666 } /* Literal.Number.Integer.Long */
.pygments50 pre.snippet50 { counter-reset: line 0; }</style><div class="pygments50"><pre class="lineNumbers snippet50"><code><span></span><span class="k">FROM</span><span class="s"> base-ubuntu:v1 as python</span></code>
<code></code>
<code><span class="c"># Copy the toolchain from the previous Docker image</span></code>
<code><span class="k">COPY</span> --from<span class="o">=</span>aarch64-toolchain:v1 <span class="se">\</span></code>
<code>    /home/develop/x-tools/aarch64-rpi3-linux-gnu <span class="se">\</span></code>
<code>    /home/develop/x-tools/aarch64-rpi3-linux-gnu</code>
<code><span class="c"># Set the path to the toolchain executables</span></code>
<code><span class="k">ENV</span> <span class="nv">TOOLCHAIN_PATH</span><span class="o">=</span>/home/develop/x-tools/aarch64-rpi3-linux-gnu</code>
<code><span class="k">ENV</span> <span class="nv">PATH</span><span class="o">=</span><span class="si">${</span><span class="nv">PATH</span><span class="si">}</span>:<span class="si">${</span><span class="nv">TOOLCHAIN_PATH</span><span class="si">}</span>/bin</code>
<code></code>
<code><span class="c"># Create a sysroot and staging area for the RPi</span></code>
<code><span class="k">WORKDIR</span><span class="s"> /home/develop</span></code>
<code><span class="k">ENV</span> <span class="nv">RPI3_SYSROOT</span><span class="o">=</span>/home/develop/RPi3-sysroot</code>
<code><span class="k">ENV</span> <span class="nv">RPI3_STAGING</span><span class="o">=</span>/home/develop/RPi3-staging</code>
<code><span class="k">RUN</span> mkdir RPi3-sysroot <span class="o">&amp;&amp;</span> <span class="se">\</span></code>
<code>    cp -rp <span class="nv">$TOOLCHAIN_PATH</span>/aarch64-rpi3-linux-gnu/sysroot/* ~/RPi3-sysroot/ <span class="o">&amp;&amp;</span> <span class="se">\</span></code>
<code>    chmod -R u+w /home/develop/RPi3-sysroot</code></pre></div>
</div>

<h4><a name="building-the-python-dependencies" href="#building-the-python-dependencies">Building the Python Dependencies</a></h4>

<p>
    For most packages, the build procedure is very simple: 
    <ol>
        <li>Download</li>
        <li>Extract</li>
        <li>Create a build directory</li>
        <li>Run the <code>configure</code> script with the right options</li>
        <li><code>make</code></li>
        <li><code>make install</code></li>
    </ol>
</p>
<p>
    To cross-compile the libraries, we have to specify the right compiler (the one we built in the previous step),
    and we have to tell the compiler to use our copy of the sysroot instead of the toolchain's sysroot, using 
    GCC's <code>--sysroot</code> option.
</p>
<p>
    Software that isn't managed by the system's package manager should be installed to <code>/usr/local</code>, 
    so we specify that path as the installation prefix. <br>
    Finally, we'll install everything in the sysroot and in the staging area.
</p>
<p>
    In the first section, we'll build most packages for both the build machine (the Docker container)
    and for the host machine (the Raspberry Pi), because we need to build Python for both machines
    in order to cross-compile the OpenCV and NumPy modules later on.
</p>

<div class="codesnippet"><style>.pygments85 .hll { background-color: #ffffcc }
.pygments85  { background: #f8f8f8; }
.pygments85 .c { color: #408080; font-style: italic } /* Comment */
.pygments85 .err { border: 1px solid #FF0000 } /* Error */
.pygments85 .k { color: #008000; font-weight: bold } /* Keyword */
.pygments85 .o { color: #666666 } /* Operator */
.pygments85 .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.pygments85 .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.pygments85 .cp { color: #BC7A00 } /* Comment.Preproc */
.pygments85 .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.pygments85 .c1 { color: #408080; font-style: italic } /* Comment.Single */
.pygments85 .cs { color: #408080; font-style: italic } /* Comment.Special */
.pygments85 .gd { color: #A00000 } /* Generic.Deleted */
.pygments85 .ge { font-style: italic } /* Generic.Emph */
.pygments85 .gr { color: #FF0000 } /* Generic.Error */
.pygments85 .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.pygments85 .gi { color: #00A000 } /* Generic.Inserted */
.pygments85 .go { color: #888888 } /* Generic.Output */
.pygments85 .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.pygments85 .gs { font-weight: bold } /* Generic.Strong */
.pygments85 .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.pygments85 .gt { color: #0044DD } /* Generic.Traceback */
.pygments85 .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.pygments85 .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.pygments85 .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.pygments85 .kp { color: #008000 } /* Keyword.Pseudo */
.pygments85 .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.pygments85 .kt { color: #B00040 } /* Keyword.Type */
.pygments85 .m { color: #666666 } /* Literal.Number */
.pygments85 .s { color: #BA2121 } /* Literal.String */
.pygments85 .na { color: #7D9029 } /* Name.Attribute */
.pygments85 .nb { color: #008000 } /* Name.Builtin */
.pygments85 .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.pygments85 .no { color: #880000 } /* Name.Constant */
.pygments85 .nd { color: #AA22FF } /* Name.Decorator */
.pygments85 .ni { color: #999999; font-weight: bold } /* Name.Entity */
.pygments85 .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.pygments85 .nf { color: #0000FF } /* Name.Function */
.pygments85 .nl { color: #A0A000 } /* Name.Label */
.pygments85 .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.pygments85 .nt { color: #008000; font-weight: bold } /* Name.Tag */
.pygments85 .nv { color: #19177C } /* Name.Variable */
.pygments85 .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.pygments85 .w { color: #bbbbbb } /* Text.Whitespace */
.pygments85 .mb { color: #666666 } /* Literal.Number.Bin */
.pygments85 .mf { color: #666666 } /* Literal.Number.Float */
.pygments85 .mh { color: #666666 } /* Literal.Number.Hex */
.pygments85 .mi { color: #666666 } /* Literal.Number.Integer */
.pygments85 .mo { color: #666666 } /* Literal.Number.Oct */
.pygments85 .sa { color: #BA2121 } /* Literal.String.Affix */
.pygments85 .sb { color: #BA2121 } /* Literal.String.Backtick */
.pygments85 .sc { color: #BA2121 } /* Literal.String.Char */
.pygments85 .dl { color: #BA2121 } /* Literal.String.Delimiter */
.pygments85 .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.pygments85 .s2 { color: #BA2121 } /* Literal.String.Double */
.pygments85 .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.pygments85 .sh { color: #BA2121 } /* Literal.String.Heredoc */
.pygments85 .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.pygments85 .sx { color: #008000 } /* Literal.String.Other */
.pygments85 .sr { color: #BB6688 } /* Literal.String.Regex */
.pygments85 .s1 { color: #BA2121 } /* Literal.String.Single */
.pygments85 .ss { color: #19177C } /* Literal.String.Symbol */
.pygments85 .bp { color: #008000 } /* Name.Builtin.Pseudo */
.pygments85 .fm { color: #0000FF } /* Name.Function.Magic */
.pygments85 .vc { color: #19177C } /* Name.Variable.Class */
.pygments85 .vg { color: #19177C } /* Name.Variable.Global */
.pygments85 .vi { color: #19177C } /* Name.Variable.Instance */
.pygments85 .vm { color: #19177C } /* Name.Variable.Magic */
.pygments85 .il { color: #666666 } /* Literal.Number.Integer.Long */
.pygments85 pre.snippet85 { counter-reset: line 18; }</style><div class="pygments85"><pre class="lineNumbers snippet85"><code><span></span><span class="c"># Zlib Download</span></code>
<code><span class="k">WORKDIR</span><span class="s"> /home/develop</span></code>
<code><span class="k">RUN</span> wget https://downloads.sourceforge.net/project/libpng/zlib/1.2.11/zlib-1.2.11.tar.gz <span class="o">&amp;&amp;</span> <span class="se">\</span></code>
<code>    tar xzf zlib-1.2.11.tar.gz <span class="o">&amp;&amp;</span> rm zlib-1.2.11.tar.gz</code>
<code> </code>
<code><span class="c"># Zlib build</span></code>
<code><span class="k">RUN</span> mkdir zlib-1.2.11/build</code>
<code><span class="k">WORKDIR</span><span class="s"> /home/develop/zlib-1.2.11/build</span></code>
<code><span class="k">RUN</span> ../configure <span class="o">&amp;&amp;</span> <span class="se">\</span></code>
<code>    make -j<span class="k">$(($(</span>nproc<span class="k">)</span> <span class="o">*</span> <span class="m">2</span><span class="k">))</span></code>
<code><span class="k">USER</span><span class="s"> root</span></code>
<code><span class="k">RUN</span> make install</code>
<code><span class="k">USER</span><span class="s"> develop</span></code>
<code><span class="k">RUN</span> <span class="nb">cd</span> <span class="o">&amp;&amp;</span> rm -rf zlib-1.2.11/build</code>
<code></code>
<code><span class="c"># Use the pkg-config folder inside of the RPi&#39;s root filesystem </span></code>
<code><span class="k">ENV</span> <span class="nv">PKG_CONFIG_LIBDIR</span><span class="o">=</span>/home/develop/RPi3-sysroot/usr/local/lib <span class="se">\</span></code>
<code>    <span class="nv">PKG_CONFIG_PATH</span><span class="o">=</span>/home/develop/RPi3-sysroot/usr/local/lib/pkgconfig <span class="se">\</span></code>
<code>    <span class="nv">PKG_CONFIG_SYSROOT_DIR</span><span class="o">=</span>/home/develop/RPi3-sysroot</code>
<code> </code>
<code><span class="c"># Zlib ARM</span></code>
<code><span class="k">WORKDIR</span><span class="s"> /home/develop</span></code>
<code><span class="k">RUN</span> mkdir zlib-1.2.11/build-arm</code>
<code><span class="k">WORKDIR</span><span class="s"> /home/develop/zlib-1.2.11/build-arm</span></code>
<code><span class="k">RUN</span> <span class="nv">CFLAGS</span><span class="o">=</span><span class="s2">&quot;--sysroot=</span><span class="si">${</span><span class="nv">RPI3_SYSROOT</span><span class="si">}</span><span class="s2">&quot;</span> <span class="se">\</span></code>
<code>    <span class="nv">LDFLAGS</span><span class="o">=</span><span class="s2">&quot;--sysroot=</span><span class="si">${</span><span class="nv">RPI3_SYSROOT</span><span class="si">}</span><span class="s2">&quot;</span> <span class="se">\</span></code>
<code>    <span class="nv">CC</span><span class="o">=</span><span class="s2">&quot;aarch64-rpi3-linux-gnu-gcc&quot;</span> <span class="se">\</span></code>
<code>    <span class="nv">LD</span><span class="o">=</span><span class="s2">&quot;aarch64-rpi3-linux-gnu-ld&quot;</span> <span class="se">\</span></code>
<code>    ../configure <span class="se">\</span></code>
<code>        --prefix<span class="o">=</span><span class="s2">&quot;/usr/local&quot;</span> <span class="o">&amp;&amp;</span> <span class="se">\</span></code>
<code>    make -j<span class="k">$(($(</span>nproc<span class="k">)</span> <span class="o">*</span> <span class="m">2</span><span class="k">))</span> <span class="o">&amp;&amp;</span> <span class="se">\</span></code>
<code>    make install <span class="nv">DESTDIR</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">RPI3_SYSROOT</span><span class="si">}</span><span class="s2">&quot;</span> <span class="o">&amp;&amp;</span> <span class="se">\</span></code>
<code>    make install <span class="nv">DESTDIR</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">RPI3_STAGING</span><span class="si">}</span><span class="s2">&quot;</span> <span class="o">&amp;&amp;</span> <span class="se">\</span></code>
<code>    <span class="nb">cd</span> <span class="o">&amp;&amp;</span> rm -rf zlib-1.2.11</code>
<code> </code>
<code><span class="c"># OpenSSL Download</span></code>
<code><span class="k">WORKDIR</span><span class="s"> /home/develop</span></code>
<code><span class="k">RUN</span> wget https://github.com/openssl/openssl/archive/OpenSSL_1_1_1c.tar.gz <span class="o">&amp;&amp;</span> <span class="se">\</span></code>
<code>    tar xzf OpenSSL_1_1_1c.tar.gz</code>
<code></code>
<code><span class="c"># Use the build system&#39;s pkg-config folders</span></code>
<code><span class="k">ENV</span> <span class="nv">PKG_CONFIG_LIBDIR</span><span class="o">=</span><span class="s2">&quot;&quot;</span> <span class="se">\</span></code>
<code>    <span class="nv">PKG_CONFIG_PATH</span><span class="o">=</span><span class="s2">&quot;&quot;</span> <span class="se">\</span></code>
<code>    <span class="nv">PKG_CONFIG_SYSROOT_DIR</span><span class="o">=</span><span class="s2">&quot;&quot;</span></code>
<code> </code>
<code><span class="c"># OpenSSL build</span></code>
<code><span class="k">WORKDIR</span><span class="s"> /home/develop/openssl-OpenSSL_1_1_1c</span></code>
<code><span class="k">RUN</span> ./config --prefix<span class="o">=</span><span class="s2">&quot;/usr/local&quot;</span> <span class="o">&amp;&amp;</span> <span class="se">\</span></code>
<code>    make -j<span class="k">$(($(</span>nproc<span class="k">)</span> <span class="o">*</span> <span class="m">2</span><span class="k">))</span></code>
<code><span class="k">USER</span><span class="s"> root</span></code>
<code><span class="k">RUN</span> make install_sw <span class="o">&amp;&amp;</span> <span class="se">\</span></code>
<code>    make distclean <span class="o">&amp;&amp;</span> <span class="se">\</span></code>
<code>    <span class="nb">cd</span> <span class="o">&amp;&amp;</span> rm -rf openssl-OpenSSL_1_1_1c</code>
<code><span class="k">USER</span><span class="s"> develop</span></code>
<code> </code>
<code><span class="c"># Use the pkg-config folder inside of the RPi&#39;s root filesystem </span></code>
<code><span class="k">ENV</span> <span class="nv">PKG_CONFIG_LIBDIR</span><span class="o">=</span>/home/develop/RPi3-sysroot/usr/local/lib <span class="se">\</span></code>
<code>    <span class="nv">PKG_CONFIG_PATH</span><span class="o">=</span>/home/develop/RPi3-sysroot/usr/local/lib/pkgconfig <span class="se">\</span></code>
<code>    <span class="nv">PKG_CONFIG_SYSROOT_DIR</span><span class="o">=</span>/home/develop/RPi3-sysroot</code>
<code> </code>
<code><span class="c"># OpenSSL ARM</span></code>
<code><span class="k">WORKDIR</span><span class="s"> /home/develop</span></code>
<code><span class="k">RUN</span> tar xzf OpenSSL_1_1_1c.tar.gz <span class="o">&amp;&amp;</span> rm OpenSSL_1_1_1c.tar.gz</code>
<code><span class="k">WORKDIR</span><span class="s"> /home/develop/openssl-OpenSSL_1_1_1c</span></code>
<code><span class="k">RUN</span> ./Configure <span class="se">\</span></code>
<code>        --prefix<span class="o">=</span><span class="s2">&quot;/usr/local&quot;</span> <span class="se">\</span></code>
<code>        --cross-compile-prefix<span class="o">=</span><span class="s2">&quot;aarch64-rpi3-linux-gnu-&quot;</span> <span class="se">\</span></code>
<code>        <span class="nv">CFLAGS</span><span class="o">=</span><span class="s2">&quot;--sysroot=</span><span class="si">${</span><span class="nv">RPI3_SYSROOT</span><span class="si">}</span><span class="s2">&quot;</span> <span class="se">\</span></code>
<code>        <span class="nv">CPPFLAGS</span><span class="o">=</span><span class="s2">&quot;--sysroot=</span><span class="si">${</span><span class="nv">RPI3_SYSROOT</span><span class="si">}</span><span class="s2">&quot;</span> <span class="se">\</span></code>
<code>        <span class="nv">LDFLAGS</span><span class="o">=</span><span class="s2">&quot;--sysroot=</span><span class="si">${</span><span class="nv">RPI3_SYSROOT</span><span class="si">}</span><span class="s2">&quot;</span> <span class="se">\</span></code>
<code>        linux-aarch64 <span class="o">&amp;&amp;</span> <span class="se">\</span></code>
<code>    make -j<span class="k">$(($(</span>nproc<span class="k">)</span> <span class="o">*</span> <span class="m">2</span><span class="k">))</span> <span class="o">&amp;&amp;</span> <span class="se">\</span></code>
<code>    make install_sw <span class="nv">DESTDIR</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">RPI3_SYSROOT</span><span class="si">}</span><span class="s2">&quot;</span> <span class="o">&amp;&amp;</span> <span class="se">\</span></code>
<code>    make install_sw <span class="nv">DESTDIR</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">RPI3_STAGING</span><span class="si">}</span><span class="s2">&quot;</span> <span class="o">&amp;&amp;</span> <span class="se">\</span></code>
<code>    <span class="nb">cd</span> <span class="o">&amp;&amp;</span> rm -rf openssl-OpenSSL_1_1_1c</code>
<code> </code>
<code><span class="c"># FFI Download</span></code>
<code><span class="k">WORKDIR</span><span class="s"> /home/develop</span></code>
<code><span class="k">RUN</span> wget -O libffi-3.2.1.tar.gz https://codeload.github.com/libffi/libffi/tar.gz/v3.2.1 <span class="o">&amp;&amp;</span> <span class="se">\</span></code>
<code>    tar xzf libffi-3.2.1.tar.gz <span class="o">&amp;&amp;</span> rm libffi-3.2.1.tar.gz</code>
<code></code>
<code><span class="c"># Use the build system&#39;s pkg-config folders</span></code>
<code><span class="k">ENV</span> <span class="nv">PKG_CONFIG_LIBDIR</span><span class="o">=</span><span class="s2">&quot;&quot;</span> <span class="se">\</span></code>
<code>    <span class="nv">PKG_CONFIG_PATH</span><span class="o">=</span><span class="s2">&quot;&quot;</span> <span class="se">\</span></code>
<code>    <span class="nv">PKG_CONFIG_SYSROOT_DIR</span><span class="o">=</span><span class="s2">&quot;&quot;</span></code>
<code></code>
<code><span class="c"># FFI build</span></code>
<code><span class="k">WORKDIR</span><span class="s"> /home/develop/libffi-3.2.1</span></code>
<code><span class="k">RUN</span> ./autogen.sh <span class="o">&amp;&amp;</span> <span class="se">\</span></code>
<code>    mkdir build</code>
<code><span class="k">WORKDIR</span><span class="s"> /home/develop/libffi-3.2.1/build</span></code>
<code><span class="k">RUN</span> ../configure <span class="nv">CFLAGS</span><span class="o">=</span><span class="s2">&quot;-O2&quot;</span> <span class="nv">CXXFLAGS</span><span class="o">=</span><span class="s2">&quot;-O2&quot;</span> <span class="o">&amp;&amp;</span> <span class="se">\</span></code>
<code>    make -j<span class="k">$(($(</span>nproc<span class="k">)</span> <span class="o">*</span> <span class="m">2</span><span class="k">))</span></code>
<code><span class="k">USER</span><span class="s"> root</span></code>
<code><span class="k">RUN</span> make install</code>
<code><span class="k">USER</span><span class="s"> develop</span></code>
<code><span class="k">RUN</span> <span class="nb">cd</span> <span class="o">&amp;&amp;</span> rm -rf libffi-3.2.1/build</code>
<code></code>
<code><span class="c"># Use the pkg-config folder inside of the RPi&#39;s root filesystem  </span></code>
<code><span class="k">ENV</span> <span class="nv">PKG_CONFIG_LIBDIR</span><span class="o">=</span>/home/develop/RPi3-sysroot/usr/local/lib <span class="se">\</span></code>
<code>    <span class="nv">PKG_CONFIG_PATH</span><span class="o">=</span>/home/develop/RPi3-sysroot/usr/local/lib/pkgconfig <span class="se">\</span></code>
<code>    <span class="nv">PKG_CONFIG_SYSROOT_DIR</span><span class="o">=</span>/home/develop/RPi3-sysroot</code>
<code> </code>
<code><span class="c"># FFI ARM</span></code>
<code><span class="k">WORKDIR</span><span class="s"> /home/develop/libffi-3.2.1</span></code>
<code><span class="k">RUN</span> mkdir build-arm</code>
<code><span class="k">WORKDIR</span><span class="s"> /home/develop/libffi-3.2.1/build-arm</span></code>
<code><span class="k">RUN</span> ../configure <span class="se">\</span></code>
<code>        --host<span class="o">=</span><span class="s2">&quot;aarch64-linux-gnu&quot;</span> <span class="se">\</span></code>
<code>        --prefix<span class="o">=</span><span class="s2">&quot;/usr/local&quot;</span> <span class="se">\</span></code>
<code>        <span class="nv">CFLAGS</span><span class="o">=</span><span class="s2">&quot;-O2&quot;</span> <span class="nv">CXXFLAGS</span><span class="o">=</span><span class="s2">&quot;-O2&quot;</span> <span class="se">\</span></code>
<code>        --with-sysroot<span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">RPI3_SYSROOT</span><span class="si">}</span><span class="s2">&quot;</span> <span class="se">\</span></code>
<code>        <span class="nv">CC</span><span class="o">=</span><span class="s2">&quot;aarch64-rpi3-linux-gnu-gcc&quot;</span> <span class="se">\</span></code>
<code>        <span class="nv">CXX</span><span class="o">=</span><span class="s2">&quot;aarch64-rpi3-linux-gnu-g++&quot;</span> <span class="se">\</span></code>
<code>        <span class="nv">LD</span><span class="o">=</span><span class="s2">&quot;aarch64-rpi3-linux-gnu-ld&quot;</span> <span class="o">&amp;&amp;</span> <span class="se">\</span></code>
<code>    make -j<span class="k">$(($(</span>nproc<span class="k">)</span> <span class="o">*</span> <span class="m">2</span><span class="k">))</span> <span class="o">&amp;&amp;</span> <span class="se">\</span></code>
<code>    make install <span class="nv">DESTDIR</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">RPI3_SYSROOT</span><span class="si">}</span><span class="s2">&quot;</span> <span class="o">&amp;&amp;</span> <span class="se">\</span></code>
<code>    make install <span class="nv">DESTDIR</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">RPI3_STAGING</span><span class="si">}</span><span class="s2">&quot;</span> <span class="o">&amp;&amp;</span> <span class="se">\</span></code>
<code>    <span class="nb">cd</span> <span class="o">&amp;&amp;</span> rm -rf libffi-3.2.1</code></pre></div>
</div>

<h3><a name="compiling-the-dependencies-for-a-32-bit-raspberry-pi-3b" href="#compiling-the-dependencies-for-a-32-bit-raspberry-pi-3b">Compiling the Dependencies for a 32-bit Raspberry Pi 3B+</a></h3>

</div>
    </article>
    <footer>Last edited: Wednesday, 18 September 2019 08:18 UTC</footer>
</body>

</html>