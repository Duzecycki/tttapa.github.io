<html>
<head>
<title>MIDI_Outputs/Bankable/Abstract/MIDIButtons.hpp</title>
<meta name='robots' content='noindex,nofollow'>
<meta name='generator' content='GLOBAL-5.7.1'>
</head>
<body text='#191970' bgcolor='#f5f5dc' vlink='gray'>
<a name='TOP'><h2><a href='../mains.html'>root</a>/<a href='../files/149.html'>MIDI_Outputs</a>/<a href='../files/151.html'>Bankable</a>/<a href='../files/152.html'>Abstract</a>/MIDIButtons.hpp</h2>
<i><font color='green'>/* [&lt;][&gt;]<a href='#L30'>[^]</a><a href='#L58'>[v]</a>[top]<a href='#BOTTOM'>[bottom]</a><a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
<hr>
<h2><a href='../J/72.html' title='Multiple included from 4 places.'>INCLUDED FROM</a></h2>
<hr>
<h2>DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href='#L30' title='Defined at 30.'>increment</a>
<li><a href='#L34' title='Defined at 34.'>update</a>
<li><a href='#L57' title='Defined at 57.'>getChannelIncrement</a>
<li><a href='#L58' title='Defined at 58.'>getAddressIncrement</a>
</ol>
<hr>
<pre>
<a name='L1'>   1 <font color='darkred'>#pragma</font> once
<a name='L2'>   2 
<a name='L3'>   3 <font color='darkred'>#include</font> &lt;<a href='110.html'>Banks/BankableMIDIOutputAddressable.hpp</a>&gt;
<a name='L4'>   4 <font color='darkred'>#include</font> &lt;<a href='103.html'>Hardware/Button.h</a>&gt;
<a name='L5'>   5 <font color='darkred'>#include</font> &lt;<a href='31.html'>Helpers/Array.hpp</a>&gt;
<a name='L6'>   6 <font color='darkred'>#include</font> &lt;<a href='123.html'>MIDI_Outputs/Abstract/AbstractMIDIOutput.hpp</a>&gt;
<a name='L7'>   7 
<a name='L8'>   8 <b>namespace</b> Bankable <font color='red'>{</font>
<a name='L9'>   9 
<a name='L10'>  10 <i><font color='green'>/**</font></i>
<a name='L11'>  11 <i><font color='green'> * @brief   An abstract class for momentary push buttons that send MIDI events.</font></i>
<a name='L12'>  12 <i><font color='green'> *</font></i>
<a name='L13'>  13 <i><font color='green'> * The buttons are debounced.</font></i>
<a name='L14'>  14 <i><font color='green'> *</font></i>
<a name='L15'>  15 <i><font color='green'> * @see     Button</font></i>
<a name='L16'>  16 <i><font color='green'> */</font></i>
<a name='L17'>  17 <b>template</b> &lt;<a href='../Y/646.html' title='Multiple used in 629 places.'>uint8_t</a> <a href='../Y/175.html' title='Multiple used in 18 places.'>NUMBER_OF_BUTTONS</a>, <b>class</b> <a href='../Y/241.html' title='Multiple used in 24 places.'>Sender</a>&gt;
<a name='L18'>  18 <b>class</b> <a href='../R/54.html' title='Multiple refered from 4 places.'>MIDIButtons</a> : <b>public</b> <a href='../S/110.html#L5' title='Defined at 5 in Banks/BankableMIDIOutputAddressable.hpp.'>BankableMIDIOutputAddressable</a>,
<a name='L19'>  19                     <b>public</b> <a href='../S/123.html#L13' title='Defined at 13 in MIDI_Outputs/Abstract/AbstractMIDIOutput.hpp.'>AbstractMIDIOutput</a> <font color='red'>{</font>
<a name='L20'>  20   <b>protected</b>:
<a name='L21'>  21     <i><font color='green'>/**</font></i>
<a name='L22'>  22 <i><font color='green'>     * @brief   Construct a new MIDIButtons.</font></i>
<a name='L23'>  23 <i><font color='green'>     *</font></i>
<a name='L24'>  24 <i><font color='green'>     * @todo    Documentation</font></i>
<a name='L25'>  25 <i><font color='green'>     */</font></i>
<a name='L26'>  26     MIDIButtons(<b>const</b> <a href='../Y/23.html' title='Multiple used in 6 places.'>Array</a>&lt;<a href='../Y/40.html' title='Multiple used in 6 places.'>Button</a>, <a href='../Y/175.html' title='Multiple used in 18 places.'>NUMBER_OF_BUTTONS</a>&gt; &amp;<a href='../Y/388.html' title='Multiple used in 16 places.'>buttons</a>,
<a name='L27'>  27                 <a href='../Y/646.html' title='Multiple used in 629 places.'>uint8_t</a> <a href='../Y/367.html' title='Multiple used in 27 places.'>baseAddress</a>, <a href='../Y/646.html' title='Multiple used in 629 places.'>uint8_t</a> <a href='../Y/368.html' title='Multiple used in 32 places.'>baseChannel</a>,
<a name='L28'>  28                 <a href='../Y/646.html' title='Multiple used in 629 places.'>uint8_t</a> <a href='../Y/347.html' title='Multiple used in 12 places.'>addressIncrement</a>, <a href='../Y/646.html' title='Multiple used in 629 places.'>uint8_t</a> <a href='../Y/396.html' title='Multiple used in 16 places.'>channelIncrement</a>)
<a name='L29'>  29         : <a href='../Y/388.html' title='Multiple used in 16 places.'>buttons</a><font color='red'>{</font><a href='../Y/388.html' title='Multiple used in 16 places.'>buttons</a><font color='red'>}</font>, <a href='../S/1.html#L12' title='Defined at 12 in MIDI_Inputs/MIDI_Input_Element_Addressable.hpp.'>baseAddress</a>(<a href='../Y/367.html' title='Multiple used in 27 places.'>baseAddress</a>), <a href='../D/134.html' title='Multiple defined in 6 places.'>baseChannel</a>(<a href='../Y/368.html' title='Multiple used in 32 places.'>baseChannel</a>),
<a name='L30'>  30           <a href='../R/197.html' title='Multiple refered from 6 places.'>increment</a>(((<a href='../Y/396.html' title='Multiple used in 16 places.'>channelIncrement</a> &amp; 0xF) &lt;&lt; 4) |
<a name='L31'>  31                     (<a href='../Y/347.html' title='Multiple used in 12 places.'>addressIncrement</a> &amp; 0xF)) <font color='red'>{</font><font color='red'>}</font>
<a name='L32'>  32 
<a name='L33'>  33   <b>public</b>:
<a name='L34'>  34     <b>void</b> <a href='../R/264.html' title='Multiple refered from 14 places.'>update</a>() <a href='../Y/448.html' title='Multiple used in 10 places.'>final</a> <a href='../Y/543.html' title='Multiple used in 65 places.'>override</a> <font color='red'>{</font>
<a name='L35'>  35         <a href='../Y/646.html' title='Multiple used in 629 places.'>uint8_t</a> <a href='../Y/394.html' title='Multiple used in 87 places.'>channel</a> = <a href='../D/179.html' title='Multiple defined in 2 places.'>getChannel</a>(<a href='../D/134.html' title='Multiple defined in 6 places.'>baseChannel</a>);
<a name='L36'>  36         <a href='../Y/646.html' title='Multiple used in 629 places.'>uint8_t</a> <a href='../Y/345.html' title='Multiple used in 27 places.'>address</a> = <a href='../D/163.html' title='Multiple defined in 2 places.'>getAddress</a>(<a href='../S/1.html#L12' title='Defined at 12 in MIDI_Inputs/MIDI_Input_Element_Addressable.hpp.'>baseAddress</a>);
<a name='L37'>  37         <a href='../Y/646.html' title='Multiple used in 629 places.'>uint8_t</a> <a href='../Y/396.html' title='Multiple used in 16 places.'>channelIncrement</a> = <a href='../D/180.html' title='Multiple defined in 2 places.'>getChannelIncrement</a>();
<a name='L38'>  38         <a href='../Y/646.html' title='Multiple used in 629 places.'>uint8_t</a> <a href='../Y/347.html' title='Multiple used in 12 places.'>addressIncrement</a> = <a href='../D/164.html' title='Multiple defined in 2 places.'>getAddressIncrement</a>();
<a name='L39'>  39         <b>for</b> (<a href='../S/101.html#L5' title='Defined at 5 in Hardware/Button.cpp.'>Button</a> &amp;<a href='../Y/387.html' title='Multiple used in 21 places.'>button</a> : <a href='../Y/388.html' title='Multiple used in 16 places.'>buttons</a>) <font color='red'>{</font>
<a name='L40'>  40             <a href='../S/101.html#L5' title='Defined at 5 in Hardware/Button.cpp.'>Button</a>::<a href='../S/103.html#L28' title='Defined at 28 in Hardware/Button.h.'>State</a> <a href='../Y/621.html' title='Multiple used in 32 places.'>state</a> = <a href='../Y/387.html' title='Multiple used in 21 places.'>button</a>.<a href='../S/101.html#L15' title='Defined at 15 in Hardware/Button.cpp.'>getState</a>();
<a name='L41'>  41             <b>if</b> (<a href='../Y/621.html' title='Multiple used in 32 places.'>state</a> == <a href='../S/101.html#L5' title='Defined at 5 in Hardware/Button.cpp.'>Button</a>::<a href='../S/103.html#L31' title='Defined at 31 in Hardware/Button.h.'>Falling</a>) <font color='red'>{</font>
<a name='L42'>  42                 <b>if</b> (!<a href='../Y/344.html' title='Multiple used in 10 places.'>activeButtons</a>)
<a name='L43'>  43                     <a href='../S/110.html#L34' title='Defined at 34 in Banks/BankableMIDIOutputAddressable.hpp.'>lock</a>(); <i><font color='green'>// Don't allow changing of the bank setting</font></i>
<a name='L44'>  44                 <a href='../Y/344.html' title='Multiple used in 10 places.'>activeButtons</a>++;
<a name='L45'>  45                 <a href='../Y/241.html' title='Multiple used in 24 places.'>Sender</a>::<a href='../D/263.html' title='Multiple defined in 2 places.'>sendOn</a>(<a href='../Y/394.html' title='Multiple used in 87 places.'>channel</a>, <a href='../Y/345.html' title='Multiple used in 27 places.'>address</a>);
<a name='L46'>  46             <font color='red'>}</font> <b>else</b> <b>if</b> (<a href='../Y/621.html' title='Multiple used in 32 places.'>state</a> == <a href='../S/101.html#L5' title='Defined at 5 in Hardware/Button.cpp.'>Button</a>::<a href='../S/103.html#L32' title='Defined at 32 in Hardware/Button.h.'>Rising</a>) <font color='red'>{</font>
<a name='L47'>  47                 <a href='../Y/241.html' title='Multiple used in 24 places.'>Sender</a>::<a href='../D/262.html' title='Multiple defined in 2 places.'>sendOff</a>(<a href='../Y/394.html' title='Multiple used in 87 places.'>channel</a>, <a href='../Y/345.html' title='Multiple used in 27 places.'>address</a>);
<a name='L48'>  48                 <a href='../Y/344.html' title='Multiple used in 10 places.'>activeButtons</a>--;
<a name='L49'>  49                 <b>if</b> (!<a href='../Y/344.html' title='Multiple used in 10 places.'>activeButtons</a>)
<a name='L50'>  50                     <a href='../S/110.html#L39' title='Defined at 39 in Banks/BankableMIDIOutputAddressable.hpp.'>unlock</a>();
<a name='L51'>  51             <font color='red'>}</font>
<a name='L52'>  52             <a href='../Y/394.html' title='Multiple used in 87 places.'>channel</a> += <a href='../Y/396.html' title='Multiple used in 16 places.'>channelIncrement</a>;
<a name='L53'>  53             <a href='../Y/345.html' title='Multiple used in 27 places.'>address</a> += <a href='../Y/347.html' title='Multiple used in 12 places.'>addressIncrement</a>;
<a name='L54'>  54         <font color='red'>}</font>
<a name='L55'>  55     <font color='red'>}</font>
<a name='L56'>  56 
<a name='L57'>  57     <a href='../Y/646.html' title='Multiple used in 629 places.'>uint8_t</a> <a href='../R/162.html' title='Multiple refered from 2 places.'>getChannelIncrement</a>() <b>const</b> <font color='red'>{</font> <b>return</b> <a href='../D/217.html' title='Multiple defined in 2 places.'>increment</a> &gt;&gt; 4; <font color='red'>}</font>
<a name='L58'>  58     <a href='../Y/646.html' title='Multiple used in 629 places.'>uint8_t</a> <a href='../R/146.html' title='Multiple refered from 2 places.'>getAddressIncrement</a>() <b>const</b> <font color='red'>{</font> <b>return</b> <a href='../D/217.html' title='Multiple defined in 2 places.'>increment</a> &amp; 0xF; <font color='red'>}</font>
<a name='L59'>  59 
<a name='L60'>  60   <b>private</b>:
<a name='L61'>  61     <a href='../S/31.html#L6' title='Defined at 6 in Helpers/Array.hpp.'>Array</a>&lt;<a href='../S/101.html#L5' title='Defined at 5 in Hardware/Button.cpp.'>Button</a>, <a href='../Y/175.html' title='Multiple used in 18 places.'>NUMBER_OF_BUTTONS</a>&gt; <a href='../Y/388.html' title='Multiple used in 16 places.'>buttons</a>;
<a name='L62'>  62     <b>const</b> <a href='../Y/646.html' title='Multiple used in 629 places.'>uint8_t</a> <a href='../S/1.html#L12' title='Defined at 12 in MIDI_Inputs/MIDI_Input_Element_Addressable.hpp.'>baseAddress</a>;
<a name='L63'>  63     <b>const</b> <a href='../Y/646.html' title='Multiple used in 629 places.'>uint8_t</a> <a href='../D/134.html' title='Multiple defined in 6 places.'>baseChannel</a>;
<a name='L64'>  64     <b>const</b> <a href='../Y/646.html' title='Multiple used in 629 places.'>uint8_t</a> <a href='../D/217.html' title='Multiple defined in 2 places.'>increment</a>;
<a name='L65'>  65     <a href='../Y/646.html' title='Multiple used in 629 places.'>uint8_t</a> <a href='../Y/344.html' title='Multiple used in 10 places.'>activeButtons</a> = 0;
<a name='L66'>  66 <font color='red'>}</font>;
<a name='L67'>  67 
</pre>
<hr>
<a name='BOTTOM'>
<i><font color='green'>/* [&lt;][&gt;]<a href='#L30'>[^]</a><a href='#L58'>[v]</a><a href='#TOP'>[top]</a>[bottom]<a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
</body>
</html>
